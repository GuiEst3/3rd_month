<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../estilos/geral.css">
    <link rel="stylesheet" href="../estilos/loading_style.css">
    <title>Loading</title>
</head>

<body>
    <div class="container">
        <h2>Loading...</h2>
        <div class="progress_bar">
            <div class="load"></div>
        </div>
    </div>

    <script>
        const load = document.querySelector('.load')

        function updateProgressBar() {

            var duration = 5000; // Duração total em milissegundos
            var interval = 10; // Intervalo de atualização em milissegundos
            var increment = (interval / duration) * 100; // Incremento percentual

            var progress = 0; // Progresso inicial

            var timer = setInterval(function () {
                progress += increment;
                load.style.width = progress + '%';

                if (progress >= 100) {
                    clearInterval(timer);

                    if (hoje >= liberado) {
                        setTimeout(function () {
                        window.location.href = "opt_list.html";
                        }, 200);
                    } else {
                        window.location.href = "error.html";
                    }
                }
            }, interval);
        }

        updateProgressBar();

        var dataAtual = new Date();
        var ano = dataAtual.getFullYear();
        var mes = dataAtual.getMonth() + 1;
        var dia = dataAtual.getDate();
        var hoje = new Date(ano, mew, dia);
        var liberado = new Date(2023, 06, 12);

        console.log(ano, mes, dia);
    </script>
</body>

</html>
